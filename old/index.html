<!DOCTYPE html>
<html>
<head>
  <title>Editeur de code</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/theme-monokai.min.css" type="text/css">
</head>
<body>
  <div id="editor" style="height: 500px; width: 800px;">print("Hello, world!")</div>
  <button id="btn-executer">Exécuter</button>
  <input type="text" id="input" placeholder="Entrez une valeur">
  <button id="btn-send">Envoyer</button>
  <div id="resultat"></div>

  <!-- Inclure jQuery -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

  <!-- Inclure Ace Editor -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/ace.js"></script>
  <script>
    var editor = ace.edit("editor");
    editor.setTheme("ace/theme/monokai");
    editor.session.setMode("ace/mode/python");

    // Associe la fonction d'exécution au bouton "Exécuter"
    $('#btn-executer').click(function() {
        // Récupère le code Python de l'éditeur
        var code = editor.getValue();

        // Envoie le code au serveur via AJAX
        $.ajax({
            url: 'test.php', // Nom de votre fichier PHP
            type: 'POST',
            data: { code: code },
            success: function(response) {
                // Affiche la réponse du serveur dans une zone de résultat
                $('#resultat').text(response);
            },
            error: function(xhr, status, error) {
                // Gère les erreurs de la requête AJAX
                console.error('Erreur AJAX : ', status, error);
            }
        });
    });

    // Associe la fonction d'envoi au bouton "Envoyer"
    $('#btn-send').click(function() {
        // Récupère la valeur saisie par l'utilisateur
        var inputValue = $('#input').val();

        // Envoie la valeur au serveur via AJAX
        $.ajax({
            url: 'input.php', // Nom de votre fichier PHP pour gérer les entrées utilisateur
            type: 'POST',
            data: { input: inputValue },
            success: function(response) {
                // Réinitialise le champ de saisie
                $('#input').val('');
            },
            error: function(xhr, status, error) {
                // Gère les erreurs de la requête AJAX
                console.error('Erreur AJAX : ', status, error);
            }
        });
    });
  </script>
</body>
</html>
